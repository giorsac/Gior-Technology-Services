# üì§ Env√≠o de Documentos Electr√≥nicos al OSE

Este endpoint te permite remitir directamente tus comprobantes al **OSE**, quien se encargar√° de validar su contenido (montos, fechas, estructuras, etc.) y, si todo est√° en orden, devolver√° la respuesta correspondiente (CDR y/o mensaje de aceptaci√≥n).  

üëâ **Importante:** En el flujo del OSE **no existe** un paso de firmado a trav√©s de la API. Se espera que el XML ya venga firmado desde tu lado. Este sistema no realiza firmas digitales.

---

## üåê Endpoint para Env√≠o

| Ambiente    | URL del Endpoint |
|-------------|------------------|
| **Beta**    | `https://demo-api.sendfact.com/api/cpe/send` |
| **Producci√≥n** | ~~`https://api.sendfact.com/api/cpe/send`~~ (No disponible)      |

---

## üì¶ Cuerpo de la Solicitud

La solicitud debe incluir los siguientes par√°metros:

|     Campo      | Tipo    | Requerido | Descripci√≥n                                                                 |
|----------------|---------|-----------|-----------------------------------------------------------------------------|
|  `file_name`   | string |    ‚úÖ     | Nombre del archivo XML, sin extensi√≥n. Debe respetar el formato SUNAT.     |
| `file_content` | string |    ‚úÖ     | Contenido del comprobante firmado, codificado en Base64.                   |

### üß™ Ejemplo

```json
{
  "file_name": "12345678901-01-F001-1",
  "file_content": "mNlcm8iOi‚Ä¶Aic3RyaW5nIg0KfQ==..."
}
```

####  **Respuesta Esperada (Gu√≠as y Resumenes) :**

> ‚úÖ **HTTP Response 202 ACCEPTED**

```json
{
    "message": "El resumen diario RC-20250519-00001 ha sido enviado correctamente a OSE. Pendiente de consulta."
}
```

##### **| üìù Nota:** _Para obtener la constancia de recepci√≥n (CDR) de un Resumen y/o Gu√≠a se debe hacer uso del **ENDPOINT DE CONSULTA**, esto debido a que SUNAT toma un intervalo en procesar dichos documentos._

####  **Respuesta Esperada (Comprobantes unitarios) :**

> ‚úÖ **HTTP Response 200 OK**

```json
{
  "message": "La factura F001-0000001 ha sido aceptada por OSE.",
  "observations": "[]",
  "xml": "PD94bWwgdmVyc2lvbj0‚Ä¶0Rlc3BhdGNoQWR2aWNlPg==...",
  "cdr": "zkz1TkibGZh1hU4MFn+6QnSTFkk5h/ych1mQp8+zJO8=..."
}
```

#### **Descripci√≥n Par√°metros Respuesta :**

|   Par√°metro  |                                                   Condici√≥n                                                   |
|:------------:|:-------------------------------------------------------------------------------------------------------------:|
|    message   | Descripci√≥n del resultado de la operaci√≥n. El mensaje es din√°mico y depende del tipo de comprobante generado. |
| observations |  Lista de observaciones generadas durante el procesamiento. Si no hay ninguna, se devuelve un arreglo vac√≠o.  |
|      xml     |                           Contenido del XML firmado y validado, codificado en Base64.                         |
|      cdr     |              	Constancia de Recepci√≥n (CDR) emitida por SUNAT/OSE, tambi√©n en formato Base64.                |

##### **| üìù Nota:** _El sistema no realiza el env√≠o autom√°tico de los archivos firmados. Cada usuario debe invocar expl√≠citamente este endpoint para remitir los documentos._
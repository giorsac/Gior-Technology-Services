
## **üîç Solicitud Consultar :**

Permite consultar el ticket tanto de gu√≠as como de res√∫menes, adicional a ello permite tambi√©n consultar el estado de los dem√°s tipos de comprobantes que existen en el sistema.

Si un comprobante unitario fue enviado y recibi√≥ un c√≥digo de error temporal **(1033)**, el sistema intentar√° recuperar el CDR (Constancia de Recepci√≥n) usando este m√©todo, para as√≠ actualizar su estado autom√°ticamente si est√° disponible.

|                                 EndPoint                         | M√©todo |   Entorno  |
|:----------------------------------------------------------------:|:------:|:----------:|
|     https://core.giortechnology.com/api/cpe/{document}/status    |  GET   | Producci√≥n |
|  https://beta-core.giortechnology.com/api/cpe/{document}/status  |  GET   |    Beta    |

### **Esquema :**

|     Par√°metro   |  Condici√≥n  | Tipo De Dato |              Descripci√≥n              |
|:---------------:|:-----------:|:------------:|:-------------------------------------:|
|    document‚ÑπÔ∏è  | Obligatorio |    String    |   Nombre del documento por consultar.  |

#### ****

|                  üß™ Ejemplo de Solicitud                            |
|:--------------------------------------------------------------------:|
| https://core.giortechnology.com/api/cpe/12345678901-01-F001-1/status |

####  **‚úÖ Respuesta Esperada (General) :**
```json
{
    "message": "La factura F001-0000001 ha sido aceptada por SUNAT/OSE.",
    "observations": "[]",
    "xml": "PD94bWwgdmVyc2lvbj0iMS4wIiBlZGluZz0idXRmaX...",
    "cdr": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idX..."
}
```

#### **Descripci√≥n Par√°metros Respuesta :**

|   Par√°metro  |                                                            Condici√≥n                                                          |
|:------------:|:-----------------------------------------------------------------------------------------------------------------------------:|
|    message   |          Descripci√≥n del resultado de la operaci√≥n. El mensaje es din√°mico y depende del tipo de comprobante generado.        |
| observations | Contiene las observaciones encontradas en el CDR enviado por SUNAT/OSE, si no existiera observaciones no se muestra el campo. |
|      xml     |                                      XML firmado y validado por SUNAT/OSE en base64.                                          |
|      cdr     |                                 Constancia de recepci√≥n enviado por SUNAT/OSE en base64.                                      |

#### **üíªüåê C√≥digos de estado http que devuelve el sistema :**

| C√≥digo |                 Descripci√≥n                    |
|:------:|:----------------------------------------------:|
|   200  |               Operaci√≥n exitosa.               |
|   200  |      Operaci√≥n exitosa, pero en proceso.       |
|   400  |        Errores de cliente (Bad Request).       |
|   401  |        Errores de cliente (Unauthorized).      |
|   404  |        Errores de cliente (Not Found).         |
|   409  |        Errores de cliente (Conflict).          |
|   500  |   Errores de servidor (Internal Server Error). |
|   502  |        Errores de servidor (Bad Gateway).      |

##### **| üìùüïµÔ∏è Notas Importantes :**
- _Este endpoint puede ser utilizado en cualquier momento para consultar el estado de documentos registrados en el PSE._

- _√öselo tambi√©n como mecanismo de verificaci√≥n ante errores de tipo temporal por parte de SUNAT, para recuperar el CDR de forma proactiva._

- _Es recomendable implementar una l√≥gica de reintento/consulta peri√≥dica en tu sistema para asegurar la trazabilidad de todos los comprobantes._